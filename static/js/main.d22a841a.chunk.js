(this["webpackJsonplp-react-tree-drag"]=this["webpackJsonplp-react-tree-drag"]||[]).push([[0],{17:function(e,r,t){},20:function(e,r,t){},22:function(e,r,t){},23:function(e,r,t){},24:function(e,r,t){"use strict";t.r(r);var n=t(1),a=t.n(n),d=t(7),l=t.n(d),c=(t(17),t(2)),i=t(11),s=t(3),p=t(4),o=t(6),h=t(5),g=t(8),u=t(10),f=t.n(u),j=t.p+"static/media/page.f2be2014.svg",O=t.p+"static/media/group.f35c57f1.svg",b=t.p+"static/media/link.98c02ce7.svg",x=(t(20),t(0)),m=function(e){Object(o.a)(t,e);var r=Object(h.a)(t);function t(e){return Object(s.a)(this,t),r.call(this,e)}return Object(p.a)(t,[{key:"renderIcon",value:function(){if(this.props.renderIcon)return this.props.renderIcon(this.props.type,this.props);var e={page:j,group:O,link:b};return e[this.props.type]?Object(x.jsx)("img",{className:"lp-react-tree-drag-TreeNode-icon",src:e[this.props.type]}):null}},{key:"renderTitle",value:function(){return this.props.renderTitle?this.props.renderTitle(this.props.title,this.props):Object(x.jsx)("div",{className:"lp-react-tree-drag-TreeNode-title",children:this.props.renderTitle?this.props.renderTitle(this.props.title,this.props):this.props.title})}},{key:"renderOp",value:function(){return Object(x.jsx)("div",{className:"lp-react-tree-drag-TreeNode-op",children:this.props.renderOp?this.props.renderOp(this.props):null})}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{className:"lp-react-tree-drag-TreeNode",onDragStart:function(r){r.currentTarget.classList.add("lp-react-tree-drag-TreeNode-dragStart"),e.props.onTreeNodeDragStart&&e.props.onTreeNodeDragStart(r)},onDragEnd:function(r){r.currentTarget.classList.remove("lp-react-tree-drag-TreeNode-dragStart"),e.props.onTreeNodeDragEnd&&e.props.onTreeNodeDragEnd(r)},onDragOver:function(e){return e.preventDefault()},children:[Object(x.jsxs)("div",{className:"lp-react-tree-drag-TreeNode-left",draggable:!0,"data-__lp_tree_node_id":this.props.__lp_tree_node_id,children:[this.renderIcon(),this.renderTitle()]}),this.renderOp()]})}}]),t}(a.a.Component);m.defaultProps={type:"page",title:""};var E=t.p+"static/media/arrow.5e646b37.svg",D=(t(22),function(e){Object(o.a)(t,e);var r=Object(h.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=r.call(this,e)).state={expanded:!1},n}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({expanded:this.props.expanded})}},{key:"render",value:function(){var e=this,r=this.props,n=r.children,a=r.expandedAll,d=r.showLine,l=this.state.expanded;return Object(x.jsxs)("div",{className:f()("lp-react-tree-drag-TreeGroup",{"lp-react-tree-drag-TreeGroup-collapse":!l}),onDragOver:function(e){e.currentTarget.lastChild.lastChild.classList.add("lp-react-tree-drag-TreeGroup-enter"),e.stopPropagation(),e.preventDefault()},onDragLeave:function(e){e.currentTarget.lastChild.lastChild.classList.remove("lp-react-tree-drag-TreeGroup-enter")},children:[Object(x.jsx)("img",{className:"lp-react-tree-drag-TreeGroup-arrow",src:E,onClick:function(){return e.setState({expanded:!l})}}),Object(x.jsxs)("div",{className:"lp-react-tree-drag-TreeGroup-node",children:[Object(x.jsx)(m,Object(c.a)(Object(c.a)({},this.props),{},{onTreeNodeDragStart:function(r){e.setState({expanded:!1})},onTreeNodeDragEnd:function(r){e.setState({expanded:!0})}})),Object(x.jsx)("div",{className:f()("lp-react-tree-drag-TreeGroup-node-ch",{"lp-react-tree-drag-TreeGroup-node-ch-line":d}),children:(n||[]).map((function(e){return"group"==e.type?Object(x.jsx)(t,Object(c.a)(Object(c.a)({},e),{},{expanded:!!a||e.expanded,expandedAll:a,showLine:d})):Object(x.jsx)(m,Object(c.a)({},e))}))})]})]})}}]),t}(a.a.Component));function v(e,r,t){if("[object Object]"==Object.prototype.toString.call(e))return e[r]="[object Function]"==Object.prototype.toString.call(t)?t():t,Array.isArray(e.children)&&e.children.map((function(e){return v(e,r,t)})),e}function _(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(n.__lp_tree_node_id==r)return e.splice(t,1),n;if(Array.isArray(n.children)){var a=_(n.children,r);if(a)return a}}}function T(e,r,t,n){if(!t)return e;for(var a=0;a<e.length;a++){var d=e[a];if(d.__lp_tree_node_id==r){"insertBefore"==n?e.splice(a,0,t):"appendAfter"==n?e.splice(a+1,0,t):"appendChild"==n&&(e[a].children?e[a].children.push(t):e[a].children=[t]);break}Array.isArray(d.children)&&T(d.children,r,t,n)}}t(23);var y=function(e){Object(o.a)(t,e);var r=Object(h.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=r.call(this,e)).state={data:[],expandedAll:!1,showLine:!1},n.dragEnterIndex=n.dragEnterDOM=n.dragPlaceholderIndex=n.refDragPlaceholder=n.data=null,n}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({data:this.props.data.map((function(e){return v(e,"__lp_tree_node_id",g.uniqueId)})),expandedAll:this.props.expandedAll,showLine:this.props.showLine})}},{key:"render",value:function(){var e=this,r=this.state,t=r.data,n=r.expandedAll,a=r.showLine,d=r.key;return Object(x.jsxs)("div",{className:"lp-react-tree-drag-Tree",onDrag:function(r){if(e.dragEnterDOM){var t="lp-react-tree-drag-TreeGroup-node"==e.dragEnterDOM.parentElement.className?e.dragEnterDOM.parentElement.lastElementChild:e.dragEnterDOM.parentElement,n=e.dragEnterDOM.getBoundingClientRect(),a=n.top,d=n.height;if(Object(i.a)(e.dragEnterDOM.classList).includes("lp-react-tree-drag-TreeGroup-node-ch"))r.clientY<a+d&&r.clientY>a+d-5&&(e.dragEnterDOM.parentElement.parentElement.parentElement.insertBefore(e.refDragPlaceholder,e.dragEnterDOM.parentElement.parentElement.nextElementSibling),T(e.data,e.dragEnterIndex,_(e.data,e.dragPlaceholderIndex),"appendAfter"));else{var l=_(e.data,e.dragPlaceholderIndex);r.clientY<a+d/2?("lp-react-tree-drag-TreeGroup-node"==e.dragEnterDOM.parentElement.className?e.dragEnterDOM.parentElement.parentElement.parentElement.insertBefore(e.refDragPlaceholder,e.dragEnterDOM.parentElement.parentElement):t.insertBefore(e.refDragPlaceholder,e.dragEnterDOM),T(e.data,e.dragEnterIndex,l,"insertBefore")):"lp-react-tree-drag-TreeGroup-node"==e.dragEnterDOM.parentElement.className?(t.appendChild(e.refDragPlaceholder),T(e.data,e.dragEnterIndex,l,"appendChild")):(t.insertBefore(e.refDragPlaceholder,e.dragEnterDOM.nextElementSibling),T(e.data,e.dragEnterIndex,l,"appendAfter")),e.dragEnterDOM=null}}},onDragStart:function(r){e.dragPlaceholderIndex=r.target.dataset.__lp_tree_node_id,e.data=Object(g.cloneDeep)(t)},onDragEnd:function(r){e.dragEnterDOM=null,e.refDragPlaceholder.style.display="none",e.setState({data:e.data,key:Date.now()})},onDragEnter:function(r){if("lp-react-tree-drag-TreeNode"==r.target.className&&r.target.firstElementChild.dataset.__lp_tree_node_id)e.dragEnterIndex=r.target.firstElementChild.dataset.__lp_tree_node_id,e.dragEnterDOM=r.target;else{if(!Object(i.a)(r.target.classList).includes("lp-react-tree-drag-TreeGroup-node-ch"))return;e.dragEnterIndex=r.target.parentElement.firstElementChild.firstElementChild.dataset.__lp_tree_node_id,e.dragEnterDOM=r.target}e.refDragPlaceholder.style.display="block","lp-react-tree-drag-TreeGroup-node"==e.dragEnterDOM.parentElement.className&&e.dragEnterDOM.parentElement.parentElement.classList.remove("lp-react-tree-drag-TreeGroup-collapse"),e.dragEnterIndex!=e.dragPlaceholderIndex&&e.dragEnterIndex},onDragOver:function(e){return e.preventDefault()},children:[(t||[]).map((function(e){return"group"==e.type?Object(x.jsx)(D,Object(c.a)(Object(c.a)({},e),{},{expanded:!!n||e.expanded,expandedAll:n,showLine:a})):Object(x.jsx)(m,Object(c.a)({},e))})),Object(x.jsx)("div",{className:"lp-react-tree-drag-TreeNode-placeholder",ref:function(r){return e.refDragPlaceholder=l.a.findDOMNode(r)}})]},d)}}]),t}(a.a.Component);y.defaultProps={data:[],expandedAll:!1,showLine:!1,key:Date.now()},l.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(y,{expandedAll:!0,showLine:!0,data:[{title:"\u9996\u9875",type:"page",children:[],renderOp:function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("a",{href:"#",children:"\u7f16\u8f91"}),"\xa0",Object(x.jsx)("a",{href:"#",children:"\u9690\u85cf"})]})}},{title:"\u56e2\u961f\u7ba1\u7406",type:"group",expanded:!0,renderOp:function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("a",{href:"#",children:"\u7f16\u8f91"}),"\xa0",Object(x.jsx)("a",{href:"#",children:"\u9690\u85cf"})]})},children:[{title:"\u6280\u672f\u7ba1\u7406",type:"page",children:[],renderOp:function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("a",{href:"#",children:"\u7f16\u8f91"}),"\xa0",Object(x.jsx)("a",{href:"#",children:"\u9690\u85cf"})]})}},{title:"\u6218\u5f79\u7ba1\u7406",type:"page",children:[],renderOp:function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("a",{href:"#",children:"\u7f16\u8f91"}),"\xa0",Object(x.jsx)("a",{href:"#",children:"\u9690\u85cf"})]})}},{title:"a1",type:"page",children:[]},{title:"a2",type:"page",children:[]},{title:"\u4e8b\u9879\u7ba1\u7406",type:"group",renderOp:function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("a",{href:"#",children:"\u7f16\u8f91"}),"\xa0",Object(x.jsx)("a",{href:"#",children:"\u9690\u85cf"})]})},children:[{title:"\u4ea7\u54c1\u7ba1\u7406",type:"page",children:[]},{title:"\u4e1a\u52a1\u7ba1\u7406",type:"page",children:[]}]}]},{title:"\u5173\u4e8e\u6211\u4eec",type:"link",children:[],renderOp:function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("a",{href:"#",children:"\u7f16\u8f91"}),"\xa0",Object(x.jsx)("a",{href:"#",children:"\u9690\u85cf"})]})}}]})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.d22a841a.chunk.js.map